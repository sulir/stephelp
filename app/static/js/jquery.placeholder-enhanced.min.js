// jQuery Placeholder Enhanced 1.4 | by Denis Ciccale @tdecs | under the MIT license
(function(a){var d="placeholder"in document.createElement("input")&&"placeholder"in document.createElement("textarea"),b="placeholder",f;d||(f=a.fn.val,a.fn.val=function(){if(this.length){if(!arguments.length&&("INPUT"===this[0].nodeName||"TEXTAREA"===this[0].nodeName))return this[0].value===this.attr("placeholder")?"":this[0].value;this.hasClass(b)&&this.removeClass(b);return f.apply(this,arguments)}});a.fn.placeholderEnhanced=function(){function f(b){var d={},e=["placeholder","name","id"];a.each(b.attributes,function(c,b){b.specified&&0>a.inArray(b.name,e)&&(d[b.name]=b.value)});return d}function i(a){a.css({position:"absolute",left:"-9999em"})}if(this.length)return d||a("form").filter(function(){return!a.data(this,"placeholderEnhanced")}).each(function(){a(this).bind("submit.placeholder",function(){a(this).find("input[placeholder], textarea[placeholder]").each(function(){!a(this).val()&&!this.disabled&&(this.value="")})});a.data(this,"placeholderEnhanced",!0)}),this.each(function(){function k(){c.hasClass(b)&&(d||(e.value=""),c.removeClass(b))}function l(){c.val()||(d?c.addClass(b):j?(g.css({position:"",left:""}),i(c)):c.val(h).addClass(b))}if(!a.data(this,"placeholderEnhanced")){var e=this,c=a(this),h=c.attr("placeholder"),j="password"===e.type,g;!j||d?c.bind("focus.placeholder",k):(g=a("<input>",a.extend(f(e),{type:"text",value:h,tabindex:-1})).addClass(b).bind("focus.placeholder",function(){c.trigger("focus.placeholder")}).insertBefore(c),c.bind("focus.placeholder",function(){c.css({position:"",left:""});i(g)}));c.bind("blur.placeholder",l).trigger("blur.placeholder");a.data(e,"placeholderEnhanced",!0)}})};a(function(){a("input[placeholder], textarea[placeholder]").placeholderEnhanced()})})(jQuery);